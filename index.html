<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR7SIU Crypto</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Welcome to CR7SIU Crypto</h1>
        <nav>
            <ul>
                <li><button onclick="showPage('home')">Home</button></li>
                <li><button onclick="showPage('improvements')">Improvements</button></li>
                <li><button onclick="showPage('airdrop')">Airdrop</button></li>
                <li><button onclick="showPage('rewards')">Rewards</button></li>
            </ul>
        </nav>
    </header>

    <!-- User Progress Bar on All Pages -->
    <div id="progress-info">
        <span id="username-display">Username: </span> |
        <span id="player-level-display">Level: 1</span> |
        <span id="score-display">CR7SIU Points: 0</span> |
        <span id="tokens-display">CR7SIU Tokens: 0</span>
    </div>

    <!-- Home Page -->
    <main id="home" class="hidden">
        <h2>Player Dashboard</h2>

        <!-- Tap to Earn -->
        <div id="tap-to-earn" onclick="earnPoints()">
            <button id="tap-button">Tap to Earn</button>
        </div>
        <p id="click-to-earn-text">Click here to Earn</p>

        <div id="vision-note">
            <p>
                Vision: CR7SIU Meme Coin is a cryptocurrency designed to celebrate the legacy of Cristiano Ronaldo while fostering engagement among football fans, crypto enthusiasts, and gamers. 
                By connecting fans with exclusive content, NFTs, and token-based utilities, CR7SIU creates a unique and profitable digital ecosystem.
            </p>
        </div>
    </main>

    <!-- Username Setup Page (Only visible if no username is set) -->
    <div id="username-setup" class="hidden">
        <h2>Welcome! Enter your unique username to start:</h2>
        <input type="text" id="username-input" placeholder="Enter Username">
        <button onclick="setUsername()">Set Username</button>
        <p id="error-message" style="color:red; display:none;">Please enter a valid username</p>
    </div>

    <script>
        // Check if username already exists in local storage and display relevant content
        function checkUsername() {
            const username = localStorage.getItem('username');
            if (username) {
                // If there's already a saved username, show the home page and hide the setup
                document.getElementById('username-setup').style.display = 'none';
                document.getElementById('home').style.display = 'block';
                // Restore the stored username and update the UI
                document.getElementById('username-display').textContent = `Username: ${username}`;
            } else {
                // If no username is stored, show the setup screen
                document.getElementById('username-setup').style.display = 'block';
                document.getElementById('home').style.display = 'none';
            }
        }

        // Function to set the username
        function setUsername() {
            const username = document.getElementById('username-input').value.trim();

            // Validate if username is non-empty and contains only spaces
            if (username === "") {
                document.getElementById('error-message').style.display = "block"; // Show error message
                return;
            }

            // Save the valid username in localStorage
            localStorage.setItem('username', username);
            // Update the username in the UI
            document.getElementById('username-display').textContent = `Username: ${username}`;
            // Hide the username setup and show the home page
            document.getElementById('username-setup').style.display = 'none';
            document.getElementById('home').style.display = 'block';
            document.getElementById('error-message').style.display = "none"; // Hide error message
        }

        // Function to handle page transitions
        function showPage(page) {
            let pages = document.querySelectorAll('main');
            pages.forEach(p => p.style.display = 'none'); // Hide all pages
            document.getElementById(page).style.display = 'block'; // Show the selected page
        }

        // Placeholder function for earning points (for example purposes)
        function earnPoints() {
            alert("You earned points!");
        }

        // Initialize the page and check for existing username
        window.onload = function() {
            checkUsername();
        };
    </script>

    <script src="game.js"></script>
</body>
</html>

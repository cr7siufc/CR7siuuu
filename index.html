<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR7SIU</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Logo before Header -->
    <div id="cr7-logo"></div>

    <header>
        <h1>CR7SIU</h1>
        <div id="cr7siu-note">
            The ultimate platform for Cristiano Ronaldo fans! Earn CR7 tokens by tapping to earn or playing exciting games, access live football scores, get exclusive Ronaldo interviews, updates, and highlights, explore CR7-themed NFTs, and redeem rewards.
        </div>
        <div style="display: flex; justify-content: space-between; padding: 0 15px;">
            <div>
                <p>Player Level: <span id="player-level">1</span></p>
                <p>Total Score: <span id="score-display">0 CR7SIU Points</span> <!-- Updated --></p>
            </div>
            <div>
                <p>Total CR7SIU Points: <span id="cr7siu-points">0</span> <!-- Updated --></p>
                <p>Total CR7SIU Tokens: <span id="tokens-display">0</span></p>
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li><button onclick="showPage('home')">Home</button></li>
            <li><button onclick="showPage('improvements')">Improvements</button></li>
            <li><button onclick="showPage('airdrop')">Airdrop</button></li>
            <li><button onclick="showPage('rewards')">Rewards</button></li>
        </ul>
    </nav>

    <main id="home">
        <h2>Player Dashboard</h2>
        <p>Username: <span id="username-display">Not Set</span></p>
        <div style="text-align: center;">
            <div id="tap-to-earn" onclick="earnPoints()"></div>
            <div>Tap to Earn</div>
        </div>
    </main>

    <main id="improvements" class="hidden">
        <h1>Improvements</h1>
        <p>Upgrade your football skills to earn more points!</p>
        <div id="attributes-container"></div>
    </main>

    <main id="airdrop" class="hidden">
        <h1>Airdrop</h1>
        <p>Convert CR7SIU points to CR7SIU Tokens (5000 CR7SIU Points = 1 CR7SIU Token).</p>
        <button onclick="convertToTokens()">Convert CR7SIU Points</button>
        <div id="referral-earning">
            <h2>Referral Earning</h2>
            <p>Earn 10,000 CR7SIU Points for each successful referral!</p>
            <input type="text" id="referral-link" readonly value="Generating referral link..." />
            <button onclick="copyReferralLink()">Copy Link</button>
            <p>Referrals Earned: <span id="referral-count">0</span></p>
            <button onclick="toggleShareOptions()">Share Referral Link</button>
            <div id="social-share" class="hidden">
                <button onclick="shareLink('facebook')">Facebook</button>
                <button onclick="shareLink('twitter')">X (formerly Twitter)</button>
                <button onclick="shareLink('whatsapp')">WhatsApp</button>
                <button onclick="shareLink('telegram')">Telegram</button>
                <button onclick="shareLink('instagram')">Instagram</button>
            </div>
        </div>
    </main>

    <main id="rewards" class="hidden">
        <h1>Rewards</h1>
        <div id="ads-section">
            <h2>Earn from Ads</h2>
            <a href="https://youtu.be/byZi0lcy-jw?si=mgizMFfa7SjYugq7" target="_blank">Click to Watch Ad</a>
            <button onclick="completeAdTask()" id="ad-claim-button" disabled>Claim Ad Reward</button>
        </div>
        <div id="daily-checkin">
            <h2>Daily Check-In</h2>
            <button onclick="completeCheckInTask()" id="check-in-button" disabled>Claim Daily Check-In Reward</button>
        </div>
        <div id="spin-the-wheel">
            <h2>Spin the Wheel</h2>
            <button onclick="spinWheel()" id="spin-button">Spin to Win!</button>
            <p>Click to spin the wheel for a chance to win CR7SIU Points!</p>
            <p id="spin-claim-time"></p>
        </div>
        <div id="validate-all-offers">
            <button onclick="validateAllTasks()">Validate All Tasks</button>
        </div>
        <div style="text-align: left; margin-top: 20px;">
            <h3>Subscribe and Join:</h3>
            <ul>
                <li><a href="https://www.youtube.com/@CR7SIUnextbigthing" target="_blank">Subscribe to our Youtube Channel</a></li>
                <li><a href="https://x.com/cr7siucoin" target="_blank">Join our X Account</a></li>
                <li><a href="https://www.facebook.com/profile.php?id=61571519741834&mibextid=ZbWKwL" target="_blank">Like and join our Facebook Page</a></li>
                <li><a href="https://youtu.be/byZi0lcy-jw?si=7yxJZdC_6y42Pqs1" target="_blank">Watch Ad</a></li>
            </ul>
        </div>
    </main>

    <div id="username-setup" class="hidden">
        <h2>Welcome! Please enter your username to start:</h2>
        <input type="text" id="username-input" placeholder="Enter Username">
        <button onclick="setUsername()">Set Username</button>
    </div>

    <div id="footer" style="background-color: black; height: 50px;"></div> <!-- Updated footer background -->

    <script src="game.js"></script>
    <script>
        let referralLink = "";
        let cr7siuPoints = 0;
        let lastClaimTime = localStorage.getItem('lastClaimTime') ? new Date(localStorage.getItem('lastClaimTime')) : null;
        let spinClaimed = lastClaimTime && (new Date() - lastClaimTime < 86400000); // 24 hours in milliseconds

        document.getElementById('cr7siu-points').innerText = cr7siuPoints;

        // Update the available points when earned or spent
        function updatePointsDisplay() {
            document.getElementById('cr7siu-points').innerText = cr7siuPoints;
        }

        function generateReferralLink() {
            let userId = Math.random().toString(36).substr(2, 9);
            referralLink = `https://t.me/CRLegend7_Bot?ref=${userId}`;
            document.getElementById('referral-link').value = referralLink;
        }

        function copyReferralLink() {
            let referralInput = document.getElementById('referral-link');
            referralInput.select();
            document.execCommand('copy');
        }

        function getReferralLink() {
            return referralLink;
        }

        function toggleShareOptions() {
            document.getElementById('social-share').classList.toggle('hidden');
        }

        function shareLink(platform) {
            let referralText = `ðŸš¨ CR7SIU Referral Program! ðŸš¨
Earn 10,000 CR7SIU Points for each successful referral!
ðŸ‘‰ ${getReferralLink()}
#CR7SIU #ReferralProgram #Crypto #FanToken`;

            let shareUrls = {
                facebook: `https://facebook.com/sharer/sharer.php?u=${encodeURIComponent(referralText)}`,
                twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(referralText)}`,
                whatsapp: `https://api.whatsapp.com/send?text=${encodeURIComponent(referralText)}`,
                telegram: `https://telegram.me/share/url?url=${encodeURIComponent(referralText)}`,
                instagram: `https://www.instagram.com/?url=${encodeURIComponent(referralText)}`
            };

            window.open(shareUrls[platform] || `https://t.me/share/url?url=${encodeURIComponent(referralText)}`, '_blank');
        }

        generateReferralLink();

        function convertToTokens() {
            if (cr7siuPoints >= 5000) {
                let tokens = Math.floor(cr7siuPoints / 5000);
                cr7siuPoints -= tokens * 5000;
                updatePointsDisplay();
                alert(`${tokens} CR7SIU Token(s) converted successfully!`);
            } else {
                alert('Not enough points to convert!');
            }
        }

        function spinWheel() {
            if (spinClaimed) {
                alert('You have already claimed your reward today. Please try again after 24 hours.');
                return;
            }

            let wheelRewards = [2500, 3500, 5500, 6500, 7500];
            let randomReward = wheelRewards[Math.floor(Math.random() * wheelRewards.length)];
            alert("You won " + randomReward + " CR7SIU points!");
            cr7siuPoints += randomReward;
            updatePointsDisplay();

            lastClaimTime = new Date();
            localStorage.setItem('lastClaimTime', lastClaimTime);
            spinClaimed = true;
        }

        function validateAllTasks() {
            alert("All tasks validated successfully!");
            document.getElementById('validate-all-offers').style.display = 'none';
        }
    </script>
</body>
</html>

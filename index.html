<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR7SIU</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Logo -->
    <div id="cr7-logo"></div>

    <header>
        <h1>CR7SIU</h1>
        <p id="cr7siu-note">
            The ultimate platform for Cristiano Ronaldo fans! Earn CR7 tokens, get exclusive Ronaldo interviews, updates, and highlights, and redeem rewards.
        </p>
        <div class="score-info">
            <div>Total Score: <span id="score-display">0 CR7SIU Points</span></div>
            <div>Total CR7SIU Points: <span id="total-cr7siu-points">0</span></div>
            <div>Total CR7SIU Tokens: <span id="tokens-display">0</span></div>
        </div>
    </header>

    <nav>
        <ul>
            <li><button onclick="showPage('home')">Home</button></li>
            <li><button onclick="showPage('improvements')">Improvements</button></li>
            <li><button onclick="showPage('airdrop')">Airdrop</button></li>
            <li><button onclick="showPage('rewards')">Rewards</button></li>
        </ul>
    </nav>

    <main id="home">
        <h2>Player Dashboard</h2>
        <p>Username: <span id="username-display">Not Set</span></p>
        <div class="tap-to-earn" onclick="earnPoints()">Tap to Earn</div>
    </main>

    <main id="improvements" class="hidden">
        <h1>Improvements</h1>
        <div id="attributes-container"></div>
    </main>

    <main id="airdrop" class="hidden">
        <h1>Airdrop</h1>
        <p>Convert CR7SIU points to CR7SIU Tokens (5000 CR7SIU Points = 1 CR7SIU Token).</p>
        <button onclick="convertToTokens()">Convert CR7SIU Points</button>
    </main>

    <main id="rewards" class="hidden">
        <h1>Rewards</h1>
        <div id="ads-section">
            <h2>Earn from Ads</h2>
            <a href="https://youtu.be/byZi0lcy-jw?si=mgizMFfa7SjYugq7" target="_blank">Click to Watch Ad</a>
            <button onclick="completeAdTask()" id="ad-claim-button" disabled>Claim Ad Reward</button>
        </div>
        <div id="daily-checkin">
            <h2>Daily Check-In</h2>
            <button onclick="completeCheckInTask()" id="check-in-button" disabled>Claim Daily Check-In Reward</button>
        </div>
        <div id="spin-the-wheel">
            <h2>Spin the Wheel</h2>
            <button onclick="spinWheel()" id="spin-button">Spin to Win!</button>
            <p id="spin-claim-time"></p>
        </div>
        <div class="subscribe-join">
            <h3>Subscribe and Join:</h3>
            <ul id="subscribe-join-list"></ul>
        </div>
    </main>

    <div id="footer" style="background-color: black; height: 50px;"></div>

    <script>
        const pages = ['home', 'improvements', 'airdrop', 'rewards'];
        const tasks = [
            { name: "Subscribe to the Youtube Channel", url: "https://www.youtube.com/@CR7SIUnextbigthing", key: "youtube" },
            { name: "Join the X Account", url: "https://x.com/cr7siucoin", key: "xAccount" },
            { name: "Like and join the Facebook Page", url: "https://www.facebook.com/profile.php?id=61571519741834&mibextid=ZbWKwL", key: "facebook" }
        ];
        const links = [
            { name: "Subscribe to our Youtube Channel", url: "https://www.youtube.com/@CR7SIUnextbigthing" },
            { name: "Join our X Account", url: "https://x.com/cr7siucoin" },
            { name: "Like and join our Facebook Page", url: "https://www.facebook.com/profile.php?id=61571519741834&mibextid=ZbWKwL" },
            { name: "Watch Ad", url: "https://youtu.be/byZi0lcy-jw?si=7yxJZdC_6y42Pqs1" }
        ];

        let user = {
            username: localStorage.getItem("username") || '',
            points: parseInt(localStorage.getItem("points")) || 0,
            level: parseInt(localStorage.getItem("level")) || 1,
            tokens: parseInt(localStorage.getItem("tokens")) || 0,
            attributes: JSON.parse(localStorage.getItem("attributes")) || {},
            tasksCompleted: JSON.parse(localStorage.getItem("tasksCompleted")) || { youtube: false, xAccount: false, facebook: false },
            referralLink: localStorage.getItem("referralLink") || 'Generating referral link...'
        };

        if (!user.username) {
            document.getElementById("username-setup").classList.remove("hidden");
            document.getElementById("username-input").focus();
        } else {
            loadSession();
        }

        function loadSession() {
            document.getElementById("username-setup").classList.add("hidden");
            document.getElementById("username-display").textContent = user.username;
            updateScores();
            displayImprovements();
            displayTasks();
            displaySubscribeJoin();
            updateSpinButton();
            showPage('home');
        }

        function showPage(page) {
            pages.forEach(p => document.getElementById(p).classList.add("hidden"));
            document.getElementById(page).classList.remove("hidden");
        }

        function updateScores() {
            document.getElementById("score-display").textContent = `${user.points} CR7SIU Points`;
            document.getElementById("tokens-display").textContent = user.tokens;
            document.getElementById("total-cr7siu-points").textContent = user.points;
        }

        function earnPoints() {
            user.points += 5;
            localStorage.setItem("points", user.points);
            updateScores();
            updateLevel();
        }

        function updateLevel() {
            user.level = Math.floor(user.points / 100000) + 1;
            document.getElementById("player-level").textContent = user.level;
            localStorage.setItem("level", user.level);
        }

        function convertToTokens() {
            const tokens = Math.floor(user.points / 5000);
            if (tokens > 0) {
                user.points -= tokens * 5000;
                user.tokens += tokens;
                localStorage.setItem("points", user.points);
                localStorage.setItem("tokens", user.tokens);
                updateScores();
                alert(`You converted ${tokens} CR7SIU tokens!`);
            } else {
                alert("Not enough points.");
            }
        }

        function displayImprovements() {
            const improvements = ['Stamina', 'Strength', 'Dribbling', 'Shooting Power', 'Speed', 'Passing'];
            const container = document.getElementById("attributes-container");
            container.innerHTML = improvements.map((improvement, index) => {
                const level = user.attributes[improvement] || 1;
                const cost = 500 + 250 * (level - 1);
                return `
                    <div class="attribute-card">
                        <h3>${improvement}</h3>
                        <p>Upgrade Cost: ${cost} points</p>
                        <p>Level: <span id="attribute-level-${index}">${level}</span></p>
                        <button onclick="upgradeSkill('${improvement}', ${index}, ${cost})">Upgrade</button>
                    </div>
                `;
            }).join('');
        }

        function upgradeSkill(attribute, index, cost) {
            if (user.points >= cost) {
                user.points -= cost;
                user.attributes[attribute] = (user.attributes[attribute] || 0) + 1;
                localStorage.setItem("points", user.points);
                localStorage.setItem("attributes", JSON.stringify(user.attributes));
                updateScores();
                document.getElementById(`attribute-level-${index}`).textContent = user.attributes[attribute];
                alert("Upgrade successful!");
            } else {
                alert("Not enough points!");
            }
        }

        function displayTasks() {
            tasks.forEach(task => {
                document.getElementById(task.key).disabled = user.tasksCompleted[task.key];
            });
        }

        function completeTask(task) {
            user.tasksCompleted[task] = true;
            localStorage.setItem("tasksCompleted", JSON.stringify(user.tasksCompleted));
            alert(`Task "${task}" marked as completed!`);
        }

        function displaySubscribeJoin() {
            const subscribeJoinList = document.getElementById("subscribe-join-list");
            subscribeJoinList.innerHTML = links.map(link => `
                <li><a href="${link.url}" target="_blank">${link.name}</a></li>
            `).join('');
        }

        function spinWheel() {
            const rewards = [2500, 3500, 5500, 6500, 7500];
            const reward = rewards[Math.floor(Math.random() * rewards.length)];
            user.points += reward;
            localStorage.setItem("points", user.points);
            updateScores();
            alert(`You won ${reward} CR7SIU Points!`);
        }

        function updateSpinButton() {
            const lastSpinTime = parseInt(localStorage.getItem("lastSpinTime")) || 0;
            const timeElapsed = Date.now() - lastSpinTime;
            const button = document.getElementById("spin-button");
            const claimMessage = document.getElementById("spin-claim-time");

            if (timeElapsed < 86400000) {
                button.disabled = true;
                claimMessage.textContent = "Spin available again in 24 hours.";
            } else {
                button.disabled = false;
                claimMessage.textContent = "Spin now and win!";
            }
        }
    </script>
</body>
</html>

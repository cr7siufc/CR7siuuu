<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR7SIU Crypto</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Welcome to CR7SIU Crypto</h1>
        <nav>
            <ul>
                <li><button onclick="showPage('home')">Home</button></li>
                <li><button onclick="showPage('improvements')">Improvements</button></li>
                <li><button onclick="showPage('airdrop')">Airdrop</button></li>
                <li><button onclick="showPage('rewards')">Rewards</button></li>
            </ul>
        </nav>
    </header>

    <!-- User Progress Bar on All Pages -->
    <div id="progress-info">
        <span id="username-display">Username: </span> |
        <span id="player-level-display">Level: 1</span> |
        <span id="score-display">CR7SIU Points: 0</span> |
        <span id="tokens-display">CR7SIU Tokens: 0</span>
    </div>

    <!-- Home Page -->
    <main id="home">
        <h2>Player Dashboard</h2>

        <div class="home-info">
            <div class="info-left">
                <p><strong>Username:</strong> <span id="username"></span></p>
                <p><strong>CR7SIU Points:</strong> <span id="cr7siu-points">0</span></p>
            </div>
            <div class="info-right">
                <p><strong>Player Level:</strong> <span id="player-level">1</span></p>
                <p><strong>CR7SIU Tokens:</strong> <span id="cr7siu-tokens">0</span></p>
            </div>
        </div>

        <div id="tap-to-earn" onclick="earnPoints()">
            <button id="tap-button">Tap to Earn</button>
        </div>
        <p id="click-to-earn-text">Click here to Earn</p>

        <div id="vision-note">
            <p>
                Vision: CR7SIU Meme Coin is a cryptocurrency designed to celebrate the legacy of Cristiano Ronaldo while fostering engagement among football fans, crypto enthusiasts, and gamers. 
                By connecting fans with exclusive content, NFTs, and token-based utilities, CR7SIU creates a unique and profitable digital ecosystem.
            </p>
        </div>
    </main>

    <!-- Username Setup Page (Only visible if no username is set) -->
    <div id="username-setup" class="hidden">
        <h2>Welcome! Enter your unique username to start:</h2>
        <input type="text" id="username-input" placeholder="Enter Username">
        <button onclick="setUsername()">Set Username</button>
        <p id="error-message" style="color:red; display:none;">Please enter a valid username</p>
    </div>

    <script>
        // Check if username already exists in local storage
        if (localStorage.getItem('username')) {
            // Skip the username setup page and show the home page
            document.getElementById('username-setup').classList.add('hidden');
            document.getElementById('home').classList.remove('hidden');
            // Restore the stored username from localStorage and display it
            let username = localStorage.getItem('username');
            document.getElementById('username').textContent = username;
            document.getElementById('username-display').textContent = `Username: ${username}`;
        } else {
            // Show the username setup page if no username exists
            document.getElementById('username-setup').classList.remove('hidden');
            document.getElementById('home').classList.add('hidden');
        }

        // Function to set the username
        function setUsername() {
            var username = document.getElementById('username-input').value.trim();

            // If the username is not valid (empty or spaces), show error message
            if (username === "") {
                document.getElementById('error-message').style.display = "block"; // Show error message
                return;
            }

            // Save the username in localStorage
            localStorage.setItem('username', username);
            // Update the username display on home page
            document.getElementById('username').textContent = username;
            document.getElementById('username-display').textContent = `Username: ${username}`;
            // Hide the username setup page and show the home page
            document.getElementById('username-setup').classList.add('hidden');
            document.getElementById('home').classList.remove('hidden');
            document.getElementById('error-message').style.display = "none"; // Hide error message
        }

        // Example of functions to switch between pages
        function showPage(page) {
            let pages = document.querySelectorAll('main');
            pages.forEach(p => p.classList.add('hidden'));  // Hide all pages
            document.getElementById(page).classList.remove('hidden');  // Show the selected page
        }

        // Example of function to simulate earning points
        function earnPoints() {
            // Implementation for earning points (replace with your logic)
            alert("You earned points!");
        }

        // Function to reset all logins (testing purposes)
        function resetLogin() {
            localStorage.removeItem('username');
            location.reload();
        }

        // Uncomment this function in testing phase to reset username
        // resetLogin();
    </script>

    <script src="game.js"></script>
</body>
</html>

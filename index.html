<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CR7SIU Fan Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Welcome to the CR7SIU Fan Game</h1>
        <div style="display: flex; justify-content: space-between; padding: 0 15px;">
            <div style="text-align: left;">
                <p>Player Level: <span id="player-level">1</span></p>
                <p>Total Score: <span id="score-display">0 CR7SIU Points</span></p>
            </div>
            <div style="text-align: right;">
                <p>Total CR7SIU Points: <span id="cr7siu-points">0</span></p>
                <p>Total CR7SIU Tokens: <span id="tokens-display">0</span></p>
            </div>
        </div>
    </header>

    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><button onclick="showPage('home')">Home</button></li>
            <li><button onclick="showPage('improvements')">Improvements</button></li>
            <li><button onclick="showPage('airdrop')">Airdrop</button></li>
            <li><button onclick="showPage('rewards')">Rewards</button></li>
        </ul>
    </nav>

    <!-- Home Page -->
    <main id="home">
        <h2>Player Dashboard</h2>
        <p>Username: <span id="username-display">Not Set</span></p>
        <div style="text-align: center;">
            <div id="tap-to-earn" onclick="earnPoints()"></div>
            <div id="tap-to-earn-text">Tap to Earn</div>
        </div>
    </main>

    <!-- Improvements Page -->
    <main id="improvements" class="hidden">
        <h1>Improvements</h1>
        <p>Upgrade your football skills to earn more points!</p>
        <div id="attributes-container">
            <!-- Attributes will be dynamically inserted here -->
        </div>
    </main>

    <!-- Airdrop Page -->
    <main id="airdrop" class="hidden">
        <h1>Airdrop</h1>
        <p>Convert your CR7SIU points to CR7SIU Tokens. Current Conversion: 5000 points = 1 CR7SIU token.</p>
        <p>Total CR7SIU Points: <span id="airdrop-points-display">0</span> CR7SIU Points</p>
        <p>Total CR7SIU Tokens: <span id="airdrop-tokens-display">0</span></p>
        <button onclick="convertToTokens()">Convert Points</button>

        <!-- Referral Earning Section -->
        <div id="referral-earning">
            <h2>Referral Earning</h2>
            <p>Share your unique referral link to earn 10,000 CR7SIU Points for every successful joining!</p>
            <div>
                <input type="text" id="referral-link" readonly value="Generating referral link..." />
                <button onclick="copyReferralLink()">Copy Link</button>
            </div>
            <p>Referrals Earned: <span id="referral-count">0</span></p>
            
            <!-- Social Media Share Buttons -->
            <button onclick="toggleShareOptions()">Share Referral Link</button>
            <div id="social-share" class="hidden">
                <p>Select Social Media Platform to Share:</p>
                <button onclick="shareLink('facebook')">Facebook</button>
                <button onclick="shareLink('twitter')">X (formerly Twitter)</button>
                <button onclick="shareLink('whatsapp')">WhatsApp</button>
                <button onclick="shareLink('telegram')">Telegram</button>
                <button onclick="shareLink('instagram')">Instagram</button>
            </div>
        </div>
    </main>

    <!-- Rewards Page -->
    <main id="rewards" class="hidden">
        <h1>Rewards</h1>

        <!-- Earn from Ads Section -->
        <div id="ads-section" style="margin-bottom: 10px;">
            <h2>Earn from Ads</h2>
            <p>Watch this video ad to earn CR7SIU Points:</p>
            <a href="https://youtu.be/byZi0lcy-jw?si=mgizMFfa7SjYugq7" target="_blank">Click to Watch Ad</a>
            <button onclick="completeAdTask()" id="ad-claim-button" disabled>Claim Ad Reward</button>
        </div>

        <!-- Daily Check-In Offer -->
        <div id="daily-checkin" style="margin-bottom: 10px;">
            <h2>Daily Check-In</h2>
            <button onclick="completeCheckInTask()" id="check-in-button" disabled>Claim Daily Check-In Reward</button>
        </div>

        <!-- Poke Referral -->
        <div id="poke-referral" style="margin-bottom: 10px;">
            <h2>Poke Referral</h2>
            <button onclick="completeReferralTask()" id="referral-button" disabled>Claim Referral Reward</button>
        </div>

        <!-- Spin the Wheel Feature -->
        <div id="spin-the-wheel" style="margin-bottom: 10px;">
            <h2>Spin the Wheel</h2>
            <button onclick="spinWheel()">Spin to Win!</button>
            <p>Click to spin the wheel for a chance to win CR7SIU Points!</p>
            <div id="wheel"></div>
        </div>

        <!-- Upgrade Any Three Attributes -->
        <div id="upgrade-attributes" style="margin-bottom: 10px;">
            <h2>Upgrade Any Three Attributes</h2>
            <button onclick="upgradeAttributes()" id="upgrade-attributes-button" disabled>Claim Upgrade Reward</button>
        </div>

        <!-- Validate All Offers -->
        <div id="validate-all-offers" style="margin-top: 20px; text-align: center;">
            <button onclick="validateAllTasks()">Validate All Tasks</button>
        </div>

        <!-- Links Section (Left Aligned) -->
        <div style="text-align: left; margin-top: 20px;">
            <h3>Subscribe and Join:</h3>
            <ul>
                <li><a href="https://www.youtube.com/@CR7SIUnextbigthing" target="_blank">Subscribe to our Youtube Channel</a></li>
                <li><a href="https://x.com/cr7siucoin" target="_blank">Join our X Account</a></li>
                <li><a href="https://www.facebook.com/profile.php?id=61571519741834&mibextid=ZbWKwL" target="_blank">Like and join our Facebook Page</a></li>
                <li><a href="https://youtu.be/byZi0lcy-jw?si=7yxJZdC_6y42Pqs1" target="_blank">Watch Ad</a></li>
            </ul>
        </div>
    </main>

    <!-- New Username Setup Dialog -->
    <div id="username-setup" class="hidden">
        <h2>Welcome! Please enter your username to start:</h2>
        <input type="text" id="username-input" placeholder="Enter Username">
        <button onclick="setUsername()">Set Username</button>
    </div>

    <script src="game.js"></script>

    <script>
        let referralLink = ""; // Will store the referral link

        // Function to generate the referral link
        function generateReferralLink() {
            let userId = Math.random().toString(36).substr(2, 9);  // Generate a unique user ID
            referralLink = `https://t.me/CRLegend7_Bot?ref=${userId}`;  // Pointing to the game URL
            document.getElementById('referral-link').value = referralLink; // Display the link
        }

        function copyReferralLink() {
            let referralInput = document.getElementById('referral-link');
            referralInput.select();
            document.execCommand('copy');
        }

        function getReferralLink() {
            return referralLink;
        }

        function toggleShareOptions() {
            let shareDiv = document.getElementById('social-share');
            shareDiv.classList.toggle('hidden');
        }

        function shareLink(platform) {
            let referralText = `üö® CR7SIU Referral Program! üö®

Earn 10,000 CR7SIU Points for each successful referral!
1Ô∏è‚É£ Get your link
2Ô∏è‚É£ Share on social media
3Ô∏è‚É£ Earn points for signups! 

Start referring & boost your points now! üî•
üëâ ${getReferralLink()}
#CR7SIU #ReferralProgram #Crypto #FanToken`;

            let shareUrl;
            switch (platform) {
                case 'facebook':
                    shareUrl = `https://facebook.com/sharer/sharer.php?u=${encodeURIComponent(referralText)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(referralText)}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(referralText)}`;
                    break;
                case 'telegram':
                    shareUrl = `https://telegram.me/share/url?url=${encodeURIComponent(referralText)}`;
                    break;
                case 'instagram':
                    shareUrl = `https://www.instagram.com/?url=${encodeURIComponent(referralText)}`;
                    break;
                default:
                    shareUrl = `https://t.me/share/url?url=${encodeURIComponent(referralText)}`;
                    break;
            }
            window.open(shareUrl, '_blank');
        }

        // Call this function to generate referral link on page load or at some appropriate time
        generateReferralLink();

        // Spin the Wheel Feature
        function spinWheel() {
            let wheelRewards = [2500, 3500, 5500, 6500, 7500];
            let reward = wheelRewards[Math.floor(Math.random() * wheelRewards.length)];
            alert("You won " + reward + " CR7SIU points!");
        }

        // Validate All Tasks
        function validateAllTasks() {
            alert("All tasks validated successfully!");
            document.getElementById('validate-all-offers').style.display = 'none';  // Hide the validate button
        }
    </script>
</body>
</html>
